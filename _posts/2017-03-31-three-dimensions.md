---
layout: post
title: Odoo的三維輔助分析科目
---

Odoo上線來最讓人頭痛的一件事情就是分析科目只有一個維度，初期同事們用非常克難的方法來解決，就是建立了一個很長長長長的分科科目結構，這樣帶來了一個問題即當最前的那一階要調整的時候，其下附帶的全部子項都要調整，例如我們的部門放在了第一階，那麼要增加一個部門的時候呢？上千個子項調整……且不論那反人類的科目結構長度了。中間曾經有研究過那傳說中在8版本之後就不見了的預分配分析科目組，很遺憾并無法滿足需求。

### 讓Odoo也可以多維分析

* 在需要的Model上增加新的欄位做為分析科目維度，例如我們是在Expense上增加了第二維度和第三維度
* 為了在科目查詢的地方保持一致，原本預設維度應設為Project專用，這樣維度分析BI的地方看起來會比較一致
* 修改Report的分析科目BI，將新的維度加入到其中
* 一筆費用掛在不同維度的時候，各個維度都應呈現原金額（即金額會膨脹，取決於各公司預算管理方式，并不適合盲目套用）
